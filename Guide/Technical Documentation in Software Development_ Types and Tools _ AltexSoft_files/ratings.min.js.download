function ratings(){jQuery(function(a){var n=jQuery("body").attr("class");a(document).on("click",".up",function(){var e=jQuery(this).attr("class"),t=jQuery(this).closest(".wc-comment-right").attr("id"),o=jQuery(this).closest(".wc-footer-right").find("span.likes"),c=jQuery(this);"yes"!=a.cookie("up|"+t)&&("yes"==a.cookie("down|"+t)?a.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"updown",click:e,id:t,cookie:"up",class:n},beforeSend:function(){c.attr("class","")},success:function(e){o.text(e),a.cookie("up|"+t,"yes"),a.cookie("down|"+t,"no"),c.attr("class","up")}}):a.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"updown",click:e,id:t,class:n},beforeSend:function(){c.attr("class","")},success:function(e){o.text(e),a.cookie("up|"+t,"yes"),a.cookie("down|"+t,"no"),c.attr("class","up")}}))}),a(document).on("click",".down",function(){var e=jQuery(this).attr("class"),t=jQuery(this).closest(".wc-comment-right").attr("id"),o=jQuery(this).closest(".wc-footer-right").find("span.likes"),c=jQuery(this);"yes"!=a.cookie("down|"+t)&&("yes"==a.cookie("up|"+t)?a.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"updown",click:e,id:t,cookie:"down",class:n},beforeSend:function(){c.attr("class","")},success:function(e){o.text(e),a.cookie("down|"+t,"yes"),a.cookie("up|"+t,"no"),c.attr("class","down")}}):a.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"updown",click:e,id:t,class:n},beforeSend:function(){c.attr("class","")},success:function(e){o.text(e),a.cookie("down|"+t,"yes"),a.cookie("up|"+t,"no"),c.attr("class","down")}}))})})}jQuery(document).ready(function(){ratings()}),jQuery(document).ready(function(u){u("body").addClass("wpdiscuz_"+wpdiscuzAjaxObj.wpdiscuz_options.version);var e=wpdiscuzAjaxObj.wpdiscuz_options.is_user_logged_in,w=1==wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_guest&&!e,h=1==wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_members&&e,_=wpdiscuzAjaxObj.wpdiscuz_options.isCaptchaInSession,f=wpdiscuzAjaxObj.wpdiscuz_options.wpDiscuzReCaptcha,g=wpdiscuzAjaxObj.wpdiscuz_options.isGoodbyeCaptchaActive,n=wpdiscuzAjaxObj.wpdiscuz_options.commentListLoadType,t=wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate,o=wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id,s=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateType,c=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateTimer,a=wpdiscuzAjaxObj.wpdiscuz_options.liveUpdateGuests,d=wpdiscuzAjaxObj.wpdiscuz_options.loadLastCommentId,r=wpdiscuzAjaxObj.wpdiscuz_options.cookieCommentsSorting,p=Cookies.get(r+"_"+o);if(p)var m=(p=JSON.parse(p))&&p.order?p.order:wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentsOrder,l=p&&p.orderBy?p.orderBy:wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentOrderBy;else m=wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentsOrder,l=wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentOrderBy;wpdiscuzAjaxObj.wpdiscuz_options.commentsVoteOrder;var z,v=wpdiscuzAjaxObj.wpdiscuz_options.storeCommenterData,b=1,x=[],j=[],k=wpdiscuzAjaxObj.wpdiscuz_options.uploader,C=wpdiscuzAjaxObj.wpdiscuz_options.commentTextMaxLength,O=!0,y="",A=wpdiscuzAjaxObj.wpdiscuz_options.isCookiesEnabled,I=!0,T=wpdiscuzAjaxObj.wpdiscuz_options.cookiehash,S=wpdiscuzAjaxObj.wpdiscuz_options.isLoadOnlyParentComments,D=wpdiscuzAjaxObj.wpdiscuz_options.enableDropAnimation?500:0,F=wpdiscuzAjaxObj.wpdiscuz_options.isNativeAjaxEnabled,N=[];if(u(".wc_social_plugin_wrapper .wp-social-login-provider-list").length?u(".wc_social_plugin_wrapper .wp-social-login-provider-list").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content"):u(".wc_social_plugin_wrapper .the_champ_login_container").length?u(".wc_social_plugin_wrapper .the_champ_login_container").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content"):u(".wc_social_plugin_wrapper .social_connect_form").length?u(".wc_social_plugin_wrapper .social_connect_form").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content"):u(".wc_social_plugin_wrapper .oneall_social_login_providers").length&&u(".wc_social_plugin_wrapper .oneall_social_login .oneall_social_login_providers").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content"),!wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate&&A){Cookies.remove("wordpress_last_visit",{path:""});var M=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitKey;if(wpdiscuzAjaxObj.wpdiscuz_options.enableLastVisitCookie){var J=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitCookie,L=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitExpires;Cookies.set(M,J,{expires:L,path:window.location})}else Cookies.remove(M,{path:""})}function q(s){if(!f&&!g&&(w||h)){var e=s.parents(".wc-form-wrapper"),d=u(".wpdiscuz-cnonce",e);if(_){var t=function(){var e="123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="c";for(i=0;i<13;i++)t+=e[Math.floor(Math.random()*(e.length-1)+1)];return t}(),o=u(s).prev().children(".wc_captcha_img"),c=o.attr("src"),a=c.substring(0,c.indexOf("=")+1);o.attr("src",a+t+"&r="+Math.random()),d.attr("id",t),d.attr("value",t)}else{var n=new FormData;n.append("action","generateCaptcha");var r=e.hasClass("wc-secondary-form-wrapper")?0:1,p=B(s,r);n.append("wpdiscuz_unique_id",p),$(!0,n).done(function(e){try{var t=u.parseJSON(e);if(1==t.code){var o=u(s).prev().children(".wc_captcha_img"),c=o.attr("src"),a=c.lastIndexOf("/")+1,n=c.substring(0,a)+t.message;o.attr("src",n),d.attr("id",t.key),d.attr("value",t.key)}}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}}}function P(e,t){u("#wc-comm-"+e+" > .wc-comment-right .wc-comment-footer .wc_editable_comment").show(),u("#wc-comm-"+e+" > .wc-comment-right .wc-comment-footer .wc_cancel_edit").hide(),u("#wc-comm-"+e+" .wpdiscuz-edit-form-wrap").replaceWith(t)}u("#wc_unsubscribe_message, #wc_delete_content_message, #wc_follow_message").delay(3e3).fadeOut(1500,function(){u(this).remove(),location.href=location.href.substring(0,location.href.indexOf("wpdiscuzUrlAnchor")-1)}),u(document).delegate(".wc-reply-button","click",function(){y=u(this),u(this).hasClass("wpdiscuz-clonned")?u("#wc-secondary-form-wrapper-"+B(u(this),0)).slideToggle(D):function(e){var t=B(e,0);u("#wpdiscuz_form_anchor-"+t).before((o=t,u("#wpdiscuz_hidden_secondary_form").html().replace(/wpdiscuzuniqueid/g,o)));var o;var c=u("#wc-secondary-form-wrapper-"+t);c.slideToggle(D,function(){e.addClass("wpdiscuz-clonned")}),q(u(".wc_captcha_refresh_img",c))}(u(this)),u(this).toggleClass("wc-cta-active")}),u(document).delegate(".wc-comment-img-link","click",function(){var e=u("<input/>"),t=u(this).data("comment-url");e.appendTo("body").css({position:"absolute",top:"-10000000px"}).val(t),e.select(),document.execCommand("copy"),e.remove(),alert(t+"\r\nCopied to clipboard!")}),u(document).delegate("textarea.wc_comment","focus",function(){var e=u(this).parents(".wc-form-wrapper");u(".commentTextMaxLength",e).show(),u(".wc-form-footer",e).slideDown(D)}),u(document).delegate("#wpcomm textarea","focus",function(){u(this).next(".autogrow-textarea-mirror").length||u(this).autoGrow()}),u(document).delegate("textarea.wc_comment","blur",function(){var e=u(this).parents(".wc-form-wrapper");u(".commentTextMaxLength",e).hide()}),u(document).delegate("textarea.wc_comment","keyup",function(){W(u(this),C)}),u.each(u("textarea.wc_comment"),function(){W(u(this),C)}),u(document).delegate(".wpdiscuz-nofollow,.wc_captcha_refresh_img,.wc-toggle,.wc-load-more-link","click",function(e){e.preventDefault()}),u(document).delegate(".wc-toggle","click",function(e){var c,t,o,a=B(u(this),0),n=u(this),i=u(".fas",n);if(i.hasClass("wpdiscuz-show-replies")&&S)t=R(c=a),(o=new FormData).append("action","wpdShowReplies"),o.append("commentId",t),(F?$(!0,o):ee(!0,o)).done(function(e){try{var t=u.parseJSON(e);if(1==t.code){u("#wc-comm-"+c).replaceWith(t.data),u("#wc-comm-"+c+" .wc-toggle .fas").removeClass("fa-chevron-down").addClass("fa-chevron-up").removeClass("wpdiscuz-show-replies").attr("title",wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);var o=u("#wc-comm-"+c+" .wc-toggle");u(".wpdiscuz-children-button-text",o).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text),Z(t)}else console.log("Unknown error occured")}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)});else if(u("#wc-comm-"+a+"> .wc-reply").slideToggle(700,function(){u(this).is(":hidden")?(i.removeClass("fa-chevron-up"),i.addClass("fa-chevron-down"),i.attr("title",wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text),u(".wpdiscuz-children-button-text",n).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text)):(i.removeClass("fa-chevron-down"),i.addClass("fa-chevron-up"),i.attr("title",wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text),u(".wpdiscuz-children-button-text",n).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text))}),u(".wpdiscuz-children-count",n).length){var s=u("#wc-comm-"+a+" .wc-reply");u(".wpdiscuz-children-count",n).html(s.length)}}),u(document).delegate(".wc-new-loaded-comment","mouseenter",function(){u(this).hasClass("wc-reply")?u(">.wc-comment-right",this).css("backgroundColor",wpdiscuzAjaxObj.wpdiscuz_options.wc_reply_bg_color):u(">.wc-comment-right",this).css("backgroundColor",wpdiscuzAjaxObj.wpdiscuz_options.wc_comment_bg_color)}),u(document).delegate(".wpdiscuz-sbs-wrap","click",function(){u(".wpdiscuz-subscribe-bar").slideToggle(D)}),u(document).delegate(".wc_captcha_refresh_img","click",function(e){e.preventDefault(),q(u(this))}),u(document).delegate(".wc_comm_submit.wc_not_clicked","click",function(){var e,t,o,i=u(this),c=1,s=u(this).parents("form");if(s.hasClass("wc_main_comm_form")||(e=u(this).parents(".wc-comment"),t=e.attr("class").split(" "),o="",u.each(t,function(e,t){"wc_comment_level"===G(t,!1)&&(o=G(t,!0))}),c=parseInt(o)+1),O=!0,K(s),s.submit(function(e){e.preventDefault()}),s[0].checkValidity()&&O){u(".wpd-agreement-checkbox",s).each(function(){u(this).hasClass("wpd_agreement_hide")&&A&&u(this).prop("checked")&&(Cookies.set(u(this).attr("name")+"_"+T,1,{expires:30,path:"/"}),u("input[name="+u(this).attr("name")+"]").each(function(){N.push(u(this))}))}),u(i).removeClass("wc_not_clicked");var a=new FormData;if(a.append("action","wpdAddComment"),a.append("ahk",wpdiscuzAjaxObj.wpdiscuz_options.ahk),u(":input",s).each(function(){""!=this.name&&"checkbox"!=this.type&&"radio"!=this.type&&a.append(this.name+"",u(this).val()),"checkbox"!=this.type&&"radio"!=this.type||u(this).is(":checked")&&a.append(this.name+"",u(this).val())}),a.append("wc_comment_depth",c),1==k){var n=u(s).find("input.wmu-image"),d=u(s).find("input.wmu-video"),r=u(s).find("input.wmu-file");0<n.length&&u.each(u(n),function(o,e){0<e.files.length&&u.each(e.files,function(e,t){a.append("wmu_images["+o+"]",t)})}),0<d.length&&u.each(u(d),function(o,e){0<e.files.length&&u.each(e.files,function(e,t){a.append("wmu_videos["+o+"]",t)})}),0<r.length&&u.each(u(r),function(o,e){0<e.files.length&&u.each(e.files,function(e,t){a.append("wmu_files["+o+"]",t)})})}if(!f&&!g&&(w||h)&&!_){var p=u(".wc_captcha_img",s).attr("src"),m=p.lastIndexOf("/")+1,l=p.substring(m);a.append("fileName",l)}wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs&&a.append("wpdiscuz_zs",wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs),u(".wpd-cookies-checkbox",s).length&&!u(".wpd-cookies-checkbox",s).prop("checked")&&(I=!1),(F||k?$(!0,a):ee(!0,a)).done(function(t){u(i).addClass("wc_not_clicked");var e="",o="";try{var c=u.parseJSON(t);if(e=c.code,0<=parseInt(e)){var a=c.is_main;o=c.message,u(".wpd-cc-value").html(c.wc_all_comments_count_new),u(".wpd-stat-threads-count").length&&u(".wpd-stat-threads-count").html(c.threadsCount),u(".wpd-stat-replies-count").length&&u(".wpd-stat-replies-count").html(c.repliesCount),u(".wpd-stat-authors-count").length&&u(".wpd-stat-authors-count").html(c.authorsCount),a?X(o):(u("#wc-secondary-form-wrapper-"+e).slideToggle(700),1==c.is_in_same_container?u("#wc-secondary-form-wrapper-"+e).after(o):u("#wc-secondary-form-wrapper-"+e).after(o.replace("wc-reply","wc-reply wc-no-left-margin"))),function(t){if(!t.held_moderate){var e=new FormData;e.append("action","wpdCheckNotificationType"),e.append("comment_id",t.new_comment_id),e.append("email",t.comment_author_email),e.append("isParent",t.is_main);var o=F?$(!0,e):ee(!0,e);o.done(function(e){try{t=u.parseJSON(e)}catch(e){console.log(e)}})}}(c),function(t){if(0<t.redirect&&t.new_comment_id){var e=new FormData;e.append("action","wpdRedirect"),e.append("commentId",t.new_comment_id);var o=F?$(!0,e):ee(!0,e);o.done(function(e){1==(t=u.parseJSON(e)).code&&setTimeout(function(){window.location.href=t.redirect_to},5e3)})}}(c),A&&I?function(e,t){var o=t.comment_author_email,c=t.comment_author,a=t.comment_author_url;null==v?(Cookies.set("comment_author_email_"+T,o),Cookies.set("comment_author_"+T,c),a.length&&Cookies.set("comment_author_url_"+T,a)):(v=parseInt(v),Cookies.set("comment_author_email_"+T,o,{expires:v,path:"/"}),Cookies.set("comment_author_"+T,c,{expires:v,path:"/"}),a.length&&Cookies.set("comment_author_url_"+T,a,{expires:v,path:"/"}));u(".wpd-cookies-checkbox").length&&u(".wpd-cookies-checkbox").attr("checked","checked")}(0,c):I||u(".wpd-cookies-checkbox").removeAttr("checked"),s.get(0).reset(),function(e){u(".wc_comm_form .wc_name").val(e.comment_author),e.comment_author_email.indexOf("@example.com")<0&&u(".wc_comm_form .wc_email").val(e.comment_author_email);e.comment_author_url&&u(".wc_comm_form .wc_website").val(e.comment_author_url)}(c);var n=u(".wc_comment",s);n.css("height","72px"),W(n,C),u(".wmu-preview-wrap",s).remove(),y.length&&y.removeClass("wc-cta-active"),N.length&&(N.forEach(function(e){e.parents(".wpd-field-checkbox").remove()}),N=[])}else o=wpdiscuzAjaxObj.wpdiscuz_options[e],"undefined"!=c.typeError&&null!=c.typeError&&(o+=" "+c.typeError),wpdiscuzAjaxObj.setCommentMessage(s,e,o,!0);u.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"check"},success:function(e){}}),Z(c,s)}catch(e){o=0<=t.indexOf("<")&&0<=t.indexOf(">")?e:t,wpdiscuzAjaxObj.setCommentMessage(s,"wc_invalid_field",o,!0)}u(".wpdiscuz-loading-bar").fadeOut(250)})}q(u(".wc_captcha_refresh_img",s)),u(".wpdiscuz_reset").val("")}),u(document).delegate(".wc_editable_comment","click",function(){z&&u(".wpdiscuz-edit-form-wrap").length&&P(B(u(".wpdiscuz-edit-form-wrap"),0),z);var a=B(u(this),0),e=R(a),n=u(this),t=new FormData;t.append("action","wpdEditComment"),t.append("commentId",e);var o=u("#wc-comm-"+a+" .wpd-top-custom-fields"),c=u("#wc-comm-"+a+" .wpd-bottom-custom-fields");z=o.length?'<div class="wpd-top-custom-fields">'+o.html()+"</div>":"",z+='<div class="wc-comment-text">'+u("#wc-comm-"+a+" .wc-comment-text").html()+"</div>",z+=c.length?'<div class="wpd-bottom-custom-fields">'+u("#wc-comm-"+a+" .wpd-bottom-custom-fields").html()+"</div>":"",(F?$(!0,t):ee(!0,t)).done(function(e){try{var t=u.parseJSON(e),o="",c=t.code;if(0<=parseInt(c)){u("#wc-comm-"+a+" .wpd-top-custom-fields").remove(),u("#wc-comm-"+a+" .wpd-bottom-custom-fields").remove(),u("#wc-comm-"+a+" > .wc-comment-right .wc-comment-text").replaceWith(t.message),u("#wc-comm-"+a+" > .wc-comment-right .wc-comment-footer .wc_editable_comment").hide(),u("#wc-comm-"+a+" > .wc-comment-right .wc-comment-footer .wc_cancel_edit").css("display","inline-block");u("#wc-comm-"+a+" > .wc-comment-right #wpdiscuz-edit-form")}else o=wpdiscuzAjaxObj.wpdiscuz_options[c],wpdiscuzAjaxObj.setCommentMessage(n,c,o,!1)}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wc_save_edited_comment","click",function(){var a=B(u(this)),n=R(a),e=u("#wc-comm-"+a+" #wpdiscuz-edit-form"),i=u(this);if(K(e),e.submit(function(e){e.preventDefault()}),e[0].checkValidity()){var t=new FormData;t.append("action","wpdSaveEditedComment"),t.append("wpdiscuz_unique_id",a),t.append("commentId",n),u(":input",e).each(function(){u(this).is(":visible")&&""!=this.name&&"checkbox"!=this.type&&"radio"!=this.type&&t.append(this.name+"",u(this).val()),"checkbox"!=this.type&&"radio"!=this.type||u(this).is(":checked")&&t.append(this.name+"",u(this).val())}),(F?$(!0,t):ee(!0,t)).done(function(t){try{var e=u.parseJSON(t),o=e.code,c="";0<=parseInt(o)?(P(a,e.message),e.twitterShareLink&&u("#wc-comm-"+a+" #comment-"+n+".wc-comment-right .wc-comment-header .wc-share-link .wc_tw").attr("href",e.twitterShareLink)):(c=wpdiscuzAjaxObj.wpdiscuz_options[o],wpdiscuzAjaxObj.setCommentMessage(i,o,c,!1)),Z(e,n)}catch(e){c=0<=t.indexOf("<")&&0<=t.indexOf(">")?e:t,wpdiscuzAjaxObj.setCommentMessage(i,"wc_invalid_field",c,!1)}u(".wpdiscuz-loading-bar").fadeOut(250)})}}),u(document).delegate(".wc_cancel_edit","click",function(){P(B(u(this)),z)}),u(document).delegate(".wc-load-more-submit","click",function(){var e=u(this),t="wc-loaded";e.hasClass(t)&&U(e,t,"wc-loading")});var Q=!1;function E(){var e=u("#wpdiscuzHasMoreComments").val(),t=u(document).height(),o=u(window).height()+u(window).scrollTop();t&&o&&(80<=100*o/t&&!1===Q&&1==e&&(Q=!0,U(u(".wc-load-more-submit"))))}function U(o,c,a){o.toggleClass(c),o.toggleClass(a);var e=new FormData;e.append("action","wpdLoadMoreComments"),e.append("offset",b),e.append("orderBy",l),e.append("order",m),e.append("lastParentId",u(".wc-load-more-link").attr("data-lastparentid")),wpdiscuzAjaxObj.wpdiscuz_options.enableLastVisitCookie&&e.append(M,Cookies.get(M)),b++,(F?$(!0,e):ee(!0,e)).done(function(e){try{var t=u.parseJSON(e);u(".wpdiscuz-comment-pagination").before(t.comment_list),function(e){0==e.is_show_load_more?(u("#wpdiscuzHasMoreComments").val(0),u(".wc-load-more-submit").parents(".wpdiscuz-comment-pagination").hide()):(t=e.last_parent_id,u(".wc-load-more-link").attr("data-lastparentid",t),2!=n&&u(".wpdiscuz-comment-pagination").show(),u("#wpdiscuzHasMoreComments").val(1));var t;Z(e)}(t),u(".wpdiscuz_single").remove(),Q=!1,d=t.loadLastCommentId}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250),u(".wc-load-more-submit").blur(),o.toggleClass(c),o.toggleClass(a)})}function V(e){if(void 0!==e.message)for(var t,o=e.message,c=0;c<o.length;c++)H((t=o[c]).comment_parent,t.comment_html)}function B(e,t){var o="";return(o=t?e.parents(".wc-main-form-wrapper").attr("id"):e.parents(".wc-comment").attr("id")).substring(o.lastIndexOf("-")+1)}function R(e){return e.substring(0,e.indexOf("_"))}function G(e,t){return t?e.substring(e.indexOf("-")+1):e.substring(0,e.indexOf("-"))}function H(e,t){if(0==e)X(t);else{var o=B(u("#comment-"+e),0);u("#wpdiscuz_form_anchor-"+o).after(t)}}function W(e,t){if(null!=C){var o=e.val().length,c=e.parents(".wc_comm_form"),a=u(".commentTextMaxLength",c),n=C-o;n<=10?a.addClass("left10"):a.removeClass("left10"),a.html(n)}}function K(e){var t=e.find(".wpd-required-group");u.each(t,function(){u("input",this).removeAttr("required"),0===u("input:checked",this).length?u("input",u(this)).attr("required","required"):u(".wpd-field-invalid",this).remove()}),f&&u("input[name=wpdiscuz_recaptcha]",e).length&&!u("input[name=wpdiscuz_recaptcha]",e).val().length?(O=!1,u(".wpdiscuz-recaptcha",e).css("border","1px solid red")):f&&u(".wpdiscuz-recaptcha",e).css("border","none")}function X(e){u(".wc-sticky-comment").last()[0]?u(e).insertAfter(u(".wc-sticky-comment").last()[0]):u(".wc-thread-wrapper").prepend(e)}function Y(e){e?e.prop("required")||(e.val()?e.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","inline-block"):e.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","none")):u.each(u(".wc_email"),function(e,t){var o=u(t);o.prop("required")||(o.val()?o.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","inline-block"):o.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","none"))})}function Z(t,o,c,a){t.callbackFunctions&&u.each(t.callbackFunctions,function(e){"function"==typeof wpdiscuzAjaxObj[t.callbackFunctions[e]]?wpdiscuzAjaxObj[t.callbackFunctions[e]](t.code,o,c,a):console.log(t.callbackFunctions[e]+" is not a function")})}function $(e,t){return e&&u(".wpdiscuz-loading-bar").show(),t.append("postId",o),u.ajax({type:"POST",url:wpdiscuzAjaxObj.url,data:t,contentType:!1,processData:!1})}function ee(e,t){return e&&u(".wpdiscuz-loading-bar").show(),t.append("postId",o),u.ajax({type:"POST",url:wpdiscuzAjaxObj.customAjaxUrl,data:t,contentType:!1,processData:!1})}2!=n||t||(u(".wc-load-more-submit").parents(".wpdiscuz-comment-pagination").hide(),E(),u(window).scroll(function(){E()})),u(document).delegate(".wc_vote.wc_not_clicked","click",function(){var n=u(this);u(n).removeClass("wc_not_clicked");var i,s="",d="",r=u(this).parents(".wc-comment-right").attr("id");r=r.substring(r.lastIndexOf("-")+1),i=u(this).hasClass("wc-up")?1:-1;var e=new FormData;e.append("action","wpdVoteOnComment"),e.append("commentId",r),e.append("voteType",i),(F?$(!0,e):ee(!0,e)).done(function(e){u(n).addClass("wc_not_clicked");try{var t=u.parseJSON(e);if(s=t.code,0<=parseInt(s))if("total"==t.buttonsStyle){var o=u(".wc-comment-footer .wc-vote-result",u("#comment-"+r));o.text(parseInt(o.text())+i)}else{var c=u(".wc-comment-footer .wc-vote-result-like",u("#comment-"+r)),a=u(".wc-comment-footer .wc-vote-result-dislike",u("#comment-"+r));c.text(t.likeCount),a.text(t.dislikeCount),0<parseInt(t.likeCount)?c.addClass("wc-positive"):c.removeClass("wc-positive"),parseInt(t.dislikeCount)<0?a.addClass("wc-negative"):a.removeClass("wc-negative")}else d=wpdiscuzAjaxObj.wpdiscuz_options[s],wpdiscuzAjaxObj.setCommentMessage(n,s,d,!1);Z(t,r,i)}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wpdiscuz-sort-button","click",function(){if(!u(this).hasClass("wpdiscuz-sort-button-active")){var c=u(this),a=u(this).closest("body").attr("class"),e=(u(this).attr("class"),u(this).attr("data-sort")),n=wpdiscuzAjaxObj.wpdiscuz_options.cookieCommentsSorting;u.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"astsorting",sort:e,id:a},success:function(e){u("#wcThreadWrapper").html(e.list);e.id;var t,o={orderBy:e.orderBy,order:e.order};Cookies.set(n+"_"+a,JSON.stringify(o),{expires:7,path:location.href}),t=c,u(".wpdiscuz-sort-buttons .wpdiscuz-sort-button").each(function(){u(this).removeClass("wpdiscuz-sort-button-active")}),t.addClass("wpdiscuz-sort-button-active")}})}}),function(){var e=location.href.match(/#comment\-(\d+)/);if(null!==e){var t=e[1];if(u("#comment-"+t).length)u("html, body").animate({scrollTop:u("#comment-"+t).parents("[id^=wc-comm-]").offset().top-32},1e3);else{var o=new FormData;o.append("action","wpdGetSingleComment"),o.append("commentId",t),(F?$(!0,o):ee(!0,o)).done(function(e){try{var t=u.parseJSON(e),o=".wc-thread-wrapper";if(u("#comment-"+t.parentCommentID).length){var c=u("#comment-"+t.parentCommentID);u(".wc-toggle",c).trigger("click"),o="#comment-"+t.parentCommentID}else u(".wc-thread-wrapper").prepend(t.message);Z(t),u("html, body").animate({scrollTop:u(o).offset().top-32},1e3)}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}}}(),s&&d&&(e||!e&&!a)&&setInterval(function(){var e=(n="",u(".wc-comment-right").each(function(){c=B(u(this),0),a=R(c),n+=a+","}),n),t=null!=Cookies.get("comment_author_email_"+T)&&""!=Cookies.get("comment_author_email_"+T)?Cookies.get("comment_author_email_"+T):"",o=new FormData;var c,a,n;o.append("action","wpdUpdateAutomatically"),o.append("loadLastCommentId",d),o.append("visibleCommentIds",e),o.append("email",t),(F?$(!1,o):ee(!1,o)).done(function(e){try{var t=u.parseJSON(e);if(1==t.code){if(1==s)V(t);else{j=j.concat(t.message.comments),x=x.concat(t.message.author_replies);var o=j.length,c=x.length;if(0<o){var a=o+" ";a+=1<o?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comments_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comment_button_text,u(".wc_new_comment").html(a).show()}else u(".wc_new_comment").hide();if(0<c){var n=c+" ";n+=1<c?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_replies_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_reply_button_text,u(".wc_new_reply").html(n).show()}else u(".wc_new_reply").hide()}u(".wpd-cc-value").html(t.wc_all_comments_count_new),d=t.loadLastCommentId}}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})},1e3*parseInt(c)),u(document).delegate(".wc-update-on-click","click",function(){var e=new FormData;e.append("action","wpdUpdateOnClick");var t=u(this);t.hasClass("wc_new_comment")?e.append("newCommentIds",j.join()):e.append("newCommentIds",x.join()),(F?$(!0,e):ee(!0,e)).done(function(e){try{V(u.parseJSON(e)),t.hasClass("wc_new_comment")?(j=[],u(".wc_new_comment").hide()):(x=[],u(".wc_new_reply").hide())}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wpdiscuz-readmore","click",function(){var o=B(u(this)),c=R(o),e=new FormData;e.append("action","wpdReadMore"),e.append("commentId",c),(F?$(!0,e):ee(!0,e)).done(function(e){try{var t=u.parseJSON(e);t.code&&(u("#comment-"+c+" .wc-comment-text").html(" "+t.message),u("#wpdiscuz-readmore-"+o).remove()),Z(t)}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),wpdiscuzAjaxObj.setCommentMessage=function(e,t,o,c){var a,n;n=c?e.parents(".wc-form-wrapper"):e.closest(".wc-comment"),(a=n.children(".wpdiscuz-comment-message")).removeClass(),a.addClass("wpdiscuz-comment-message"),a.addClass(t),a.html(o),a.show().delay(4e3).fadeOut(1e3,function(){a.removeClass(),a.addClass("wpdiscuz-comment-message"),a.html("")})},u(document).delegate(".wpd-required-group","change",function(){0!==u("input:checked",this).length?u("input",u(this)).removeAttr("required"):u("input",u(this)).attr("required","required")}),u(document).delegate(".wpdiscuz-spoiler","click",function(){u(this).next().slideToggle(),u(this).hasClass("wpdiscuz-spoiler-closed")?u(this).parents(".wpdiscuz-spoiler-wrap").find(".fa-plus").removeClass("fa-plus").addClass("fa-minus"):u(this).parents(".wpdiscuz-spoiler-wrap").find(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),u(this).toggleClass("wpdiscuz-spoiler-closed")}),u(document).delegate(".wc_stick_btn","click",function(){var o=u(this),e=R(B(o,0)),t=new FormData;t.append("action","wpdStickComment"),t.append("commentId",e),(F?$(!0,t):ee(!0,t)).done(function(e){try{var t=u.parseJSON(e);1==t.code?(u(".wc_stick_text",o).text(t.data),setTimeout(function(){location.reload(!0)},1e3)):console.log("Comment not updated")}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wc_close_btn","click",function(){var o=u(this),e=R(B(o,0)),t=new FormData;t.append("action","wpdCloseThread"),t.append("commentId",e),(F?$(!0,t):ee(!0,t)).done(function(e){try{var t=u.parseJSON(e);1==t.code?(u(".wc_close_btn",o).text(t.data),setTimeout(function(){location.reload(!0)},1e3)):console.log("Comment not updated")}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wc_main_comm_form .wc_comment","focus",function(){u(this).parents(".wpdiscuz-textarea-wrap").find(".wc-field-avatararea").hide("fast"),u(this).animate({padding:"15px","font-size":"14px"},"fast")}),u(document).delegate(".wc_main_comm_form .wc_comment","blur",function(){u(this).val()||(u(this).removeAttr("style"),u(this).parents(".wpdiscuz-textarea-wrap").find(".wc-field-avatararea").show("fast"))}),u(document).delegate(".wpd-stat-reacted","click",function(){var a=u(this);u(".fas",a).addClass("fa-pulse fa-spinner");var e=new FormData;e.append("action","wpdMostReactedComment"),(F?$(!1,e):ee(!1,e)).done(function(e){try{u(".fas",a).removeClass("fa-pulse fa-spinner");var t=u.parseJSON(e);if(t.code){var o=".wc-thread-wrapper";if(u("#comment-"+t.commentId).length)o="#comment-"+t.commentId;else if(u("#comment-"+t.parentCommentID).length){var c=u("#comment-"+t.parentCommentID);u(".wc-toggle",c).trigger("click")}else u(".wc-thread-wrapper").prepend(t.message),o="#comment-"+t.commentId;Z(t),u("html, body").animate({scrollTop:u(o).offset().top-32},1e3)}}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wpd-stat-hot","click",function(){var n=u(this);u(".fab",n).addClass("fas fa-pulse fa-spinner");var e=new FormData;e.append("action","wpdHottestThread"),(F?$(!1,e):ee(!1,e)).done(function(e){try{u(".fab",n).removeClass("fas fa-pulse fa-spinner");var t=u.parseJSON(e);if(t.code){var o=".wc-thread-wrapper";o=(u("#comment-"+t.commentId).length||u(".wc-thread-wrapper").prepend(t.message),"#comment-"+t.commentId);var c=u("#comment-"+t.commentId),a=u(".wc-toggle",c);u(".fas",a).hasClass("wpdiscuz-show-replies")&&S&&a.trigger("click"),Z(t),u("html, body").animate({scrollTop:u(o).offset().top-32},1e3)}}catch(e){console.log(e)}u(".wpdiscuz-loading-bar").fadeOut(250)})}),u(document).delegate(".wc-follow-link.wc_not_clicked","click",function(){var c=u(this);c.removeClass("wc_not_clicked"),u(".fas",c).addClass("fa-pulse fa-spinner");var e=R(B(c,0)),t=new FormData;t.append("action","wpdFollowUser"),t.append("commentId",e),(F?$(!1,t):ee(!1,t)).done(function(e){if(c.addClass("wc_not_clicked"),e.length)try{var t=u.parseJSON(e);if(""!==t.code){var o=wpdiscuzAjaxObj.wpdiscuz_options[t.code];wpdiscuzAjaxObj.setCommentMessage(c,t.code,o,!1),c.removeClass("wc-follow-active"),t.data.followTip&&u("wpdtip",c).html(t.data.followTip),t.data&&t.data.followClass&&c.addClass(t.data.followClass)}}catch(e){console.log(e)}u(".fas",c).removeClass("fa-pulse fa-spinner")})}),Y(),u(document).delegate(".wc_email","keyup",function(){Y(u(this))}),u(document).delegate("#wpdiscuz-subscribe-form","submit",function(e){return u("<input />").attr("type","hidden").attr("name","ahk").attr("value",wpdiscuzAjaxObj.wpdiscuz_options.ahk).appendTo("#wpdiscuz-subscribe-form"),!0})});